"use strict";const t=require("./parse.js");function e(e){const r=t.parse(e);let{variables:n,table:l}=function(e){let r=Array.from(new Set(e.match(/[a-zA-Z]+/g))),n=[],l=Math.pow(2,r.length);for(let s=0;s<l;s++){let l={};r.forEach(((t,e)=>{l[t]=(s&1<<r.length-1-e)>>r.length-1-e}));try{let r=t.calc(e,l);null!==r&&n.push({...l,result:r})}catch(a){throw new Error("无效的表达式")}}return{variables:r,table:n}}(r);return n.push(e),{variables:n,table:l}}function r(t,e){const r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(const l of r)if(t[l]!==e[l])return!1;return!0}exports.isEqual=function(t,n){if(""===t||""===n)return!1;const l=e(t).table,a=e(n).table;if(l.length!==a.length)return!1;for(let e=0;e<l.length;e++){const t=l[e];let n=0;for(;n<a.length;){if(r(t,a[n]))break;n++}if(n>=a.length)return!1}return!0},exports.useTruthTable=e;
